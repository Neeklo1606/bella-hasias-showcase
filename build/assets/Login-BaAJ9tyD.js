import{u as j,a as g,r as a,j as e,B as f}from"./index-CveXiIj1.js";import{D as v,a as b,b as w,c as D,d as N,L as d,I as u}from"./label-m5-LamLf.js";const E=()=>{const t=j(),{login:m,isAuthenticated:r}=g(),[l,p]=a.useState(""),[i,h]=a.useState(""),[n,o]=a.useState(null);a.useEffect(()=>{r&&t("/admin/dashboard",{replace:!0})},[r,t]);const x=s=>{s.preventDefault(),o(null);const c=m(l.trim(),i);if(c.ok){t("/admin/dashboard",{replace:!0});return}o(c.error??"Ошибка авторизации.")};return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:e.jsx(v,{open:!0,children:e.jsxs(b,{className:"sm:max-w-[420px]",children:[e.jsxs(w,{children:[e.jsx(D,{children:"Вход в админку"}),e.jsx(N,{children:"Введите данные администратора, чтобы открыть CMS."})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",type:"email",autoComplete:"username",value:l,onChange:s=>p(s.target.value),placeholder:"admin@bella.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Пароль"}),e.jsx(u,{id:"password",type:"password",autoComplete:"current-password",value:i,onChange:s=>h(s.target.value),placeholder:"••••••••",required:!0})]}),n?e.jsx("p",{className:"text-sm text-destructive",children:n}):null,e.jsx(f,{type:"submit",className:"w-full",children:"Войти"})]})]})})})};export{E as default};
